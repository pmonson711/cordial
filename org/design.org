#+TITLE: Design of Cordial
#+AUTHOR: Paul Monson
#+EMAIL pmonson711@gmail.com
#+TODO: TODO NEXT STARTED | DONE DEFERRED

* Overview

* Design
** Applications

#+BEGIN_SRC plantuml :file diagrams/applications.png
title Applications

package Cordial {
class Rsc 
class Category 
class Edge 
class AccessControl
class Identity
class Identity.Type
class Repository
class Repository.Transactions
class CmsContext
class Media
class Migrator.Partition
}
package Cordial.Module {
class Scanner
class Activator
class Migrator
}
package Cordial.ScatterGather {
class Scatter
class Gather
}
package Cordial.ReadView {
class Pivot
class Pivot.View
}
class Cordial.Email {
}
class Cordial.API {
}
#+END_SRC

#+RESULTS:
[[file:diagrams/applications.png]]

** Access Control
#+BEGIN_SRC ditaa :file diagrams/authentication.png :export png
  +----------------------------------------------------------------------------+
  | Identity                                                                   |
  +----------------------------------------------------------------------------+
    belongs to a       belongs to zero or many
  +----------------+  +-----------------------+
  | Identity Type  |  | Role                  |
  +----------------+  +-----------------------+
   identifies source   is a                     has zero or many
                      +-----------------------+ +---------------------+
                      | Category              | | Permission          |
                      +-----------------------+ +---------------------+
                                                Is a
                                                +----------------------+
                                                | Resource             |
                                                +----------------------+

  -----------------------------------------------------------------------------

  +----------------------------------------------------------------------------+
  | Notifications                                                              |
  +----------------------------------------------------------------------------+
                                 Publishes Request on
                                +---------------------------------------+
                                | ACL                                   |
                                +---------------------------------------+
                                 if basic            if advanced
                                 (first granted)     (all granted)
                                +-----------------+ +-------------------+
                                | Permited        | | Permited          |
                                +-----------------+ +-------------------+
                                 else                else
                                +-----------------+ +-------------------+
                                | Denied          | | Denied            |
                                +-----------------+ +-------------------+

#+END_SRC

#+RESULTS:
[[file:diagrams/authentication.png]]
